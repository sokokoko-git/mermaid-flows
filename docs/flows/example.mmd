graph LR
  %% Layout arranged roughly from left to right, top to bottom

  A[Pre-assembly Stock\nMax:160\nTarget:160/day] --> B(Assembly Area)
  B --> C[Post-assembly Stock\nMax:9]
  C --> C1(Cleaning Station)
  C1 --> D[Dimension Inspection\nTarget FPY: %]
  D -->|OK| E[Appearance Inspection\nTarget FPY: %]
  D -->|NG| D1[Dimension Rework Area]
  D1 --> C

  E -->|OK| F(Cleaning Station)
  E -->|NG| E1[Appearance Rework Area]
  E1 --> C

  F --> G[Cleaned Stock\nMax:1]
  G --> G1[Photo Taking Station\n(Under Test)]
  G1 --> H(Packing Area\n5 Chairs/Box)
  H --> I[Packing In-progress Stock\nMax:5\n1 box = 5 chairs]
  I --> J[Packed Stock Storage]

  %% Physical layout grouping (optional)
  subgraph Assembly Zone
    A --> B --> C --> C1
  end

  subgraph Inspection & Rework Zone
    C1 --> D --> E --> F --> G
    D1
    E1
  end

  subgraph Packing Zone
    G --> G1 --> H --> I --> J
  end

  %% Styles
  classDef store fill:#f6f6f6,stroke:#888,stroke-width:1px;
  classDef proc fill:#e8f4ff,stroke:#268bd2,stroke-width:1.5px;
  classDef gate fill:#fffbe6,stroke:#b58900,stroke-width:1.5px;
  classDef fix fill:#fff0f0,stroke:#dc322f,stroke-width:1.5px,stroke-dasharray:3 2;
  classDef special fill:#e0ffe0,stroke:#2aa198,stroke-width:1.5px,stroke-dasharray:5 3;

  class A,C,G,I,J store;
  class B,C1,F,H proc;
  class D,E gate;
  class D1,E1 fix;
  class G1 special;
